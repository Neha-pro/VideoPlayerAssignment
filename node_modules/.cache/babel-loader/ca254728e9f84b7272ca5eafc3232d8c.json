{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Desktop\\\\Neha\\\\video-player-react-youtube\\\\src\\\\App.js\";\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { findDOMNode } from \"react-dom\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Container from \"@material-ui/core/Container\";\nimport ReactPlayer from \"react-player\";\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\nimport Slider from \"@material-ui/core/Slider\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport VolumeUp from \"@material-ui/icons/VolumeUp\";\nimport VolumeDown from \"@material-ui/icons/VolumeDown\";\nimport VolumeMute from \"@material-ui/icons/VolumeOff\";\nimport FullScreen from \"@material-ui/icons/Fullscreen\";\nimport Popover from \"@material-ui/core/Popover\";\nimport screenful from \"screenfull\";\nimport Controls from \"./components/Controls\";\nconst useStyles = makeStyles(theme => ({\n  playerWrapper: {\n    width: \"100%\",\n    position: \"relative\" // \"&:hover\": {\n    //   \"& $controlsWrapper\": {\n    //     visibility: \"visible\",\n    //   },\n    // },\n\n  },\n  controlsWrapper: {\n    visibility: \"hidden\",\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    background: \"rgba(0,0,0,0.4)\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-between\"\n  },\n  topControls: {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    padding: theme.spacing(2)\n  },\n  middleControls: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  bottomWrapper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    // background: \"rgba(0,0,0,0.6)\",\n    // height: 60,\n    padding: theme.spacing(2)\n  },\n  bottomControls: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\" // height:40,\n\n  },\n  button: {\n    margin: theme.spacing(1)\n  },\n  controlIcons: {\n    color: \"#777\",\n    fontSize: 50,\n    transform: \"scale(0.9)\",\n    \"&:hover\": {\n      color: \"#fff\",\n      transform: \"scale(1)\"\n    }\n  },\n  bottomIcons: {\n    color: \"#999\",\n    \"&:hover\": {\n      color: \"#fff\"\n    }\n  },\n  volumeSlider: {\n    width: 100\n  }\n}));\nconst PrettoSlider = withStyles({\n  root: {\n    height: 8\n  },\n  thumb: {\n    height: 24,\n    width: 24,\n    backgroundColor: \"#fff\",\n    border: \"2px solid currentColor\",\n    marginTop: -8,\n    marginLeft: -12,\n    \"&:focus, &:hover, &$active\": {\n      boxShadow: \"inherit\"\n    }\n  },\n  active: {},\n  valueLabel: {\n    left: \"calc(-50% + 4px)\"\n  },\n  track: {\n    height: 8,\n    borderRadius: 4\n  },\n  rail: {\n    height: 8,\n    borderRadius: 4\n  }\n})(Slider);\n\nfunction ValueLabelComponent(props) {\n  const {\n    children,\n    open,\n    value\n  } = props;\n  return /*#__PURE__*/React.createElement(Tooltip, {\n    open: open,\n    enterTouchDelay: 0,\n    placement: \"top\",\n    title: value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 5\n    }\n  }, children);\n}\n\nconst format = seconds => {\n  if (isNaN(seconds)) {\n    return `00:00`;\n  }\n\n  const date = new Date(seconds * 1000);\n  const hh = date.getUTCHours();\n  const mm = date.getUTCMinutes();\n  const ss = date.getUTCSeconds().toString().padStart(2, \"0\");\n\n  if (hh) {\n    return `${hh}:${mm.toString().padStart(2, \"0\")}:${ss}`;\n  }\n\n  return `${mm}:${ss}`;\n};\n\nlet count = 0;\n\nfunction App() {\n  const classes = useStyles();\n  const [showControls, setShowControls] = useState(false); // const [count, setCount] = useState(0);\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [timeDisplayFormat, setTimeDisplayFormat] = React.useState(\"normal\");\n  const [bookmarks, setBookmarks] = useState([]);\n  const [state, setState] = useState({\n    pip: false,\n    playing: true,\n    controls: false,\n    light: false,\n    muted: true,\n    played: 0,\n    duration: 0,\n    playbackRate: 1.0,\n    volume: 1,\n    loop: false,\n    seeking: false\n  });\n  const [url, setUrl] = useState('');\n  const playerRef = useRef(null);\n  const playerContainerRef = useRef(null);\n  const controlsRef = useRef(null);\n  const canvasRef = useRef(null);\n  const {\n    playing,\n    controls,\n    light,\n    muted,\n    loop,\n    playbackRate,\n    pip,\n    played,\n    seeking,\n    volume\n  } = state;\n\n  const handlePlayPause = () => {\n    setState({ ...state,\n      playing: !state.playing\n    });\n  };\n\n  const handleRewind = () => {\n    playerRef.current.seekTo(playerRef.current.getCurrentTime() - 10);\n  };\n\n  const handleFastForward = () => {\n    playerRef.current.seekTo(playerRef.current.getCurrentTime() + 10);\n  };\n\n  const handleProgress = changeState => {\n    if (count > 3) {\n      controlsRef.current.style.visibility = \"hidden\";\n      count = 0;\n    }\n\n    if (controlsRef.current.style.visibility == \"visible\") {\n      count += 1;\n    }\n\n    if (!state.seeking) {\n      setState({ ...state,\n        ...changeState\n      });\n    }\n  };\n\n  const handleSeekChange = (e, newValue) => {\n    console.log({\n      newValue\n    });\n    setState({ ...state,\n      played: parseFloat(newValue / 100)\n    });\n  };\n\n  const handleSeekMouseDown = e => {\n    setState({ ...state,\n      seeking: true\n    });\n  };\n\n  const handleSeekMouseUp = (e, newValue) => {\n    console.log({\n      value: e.target\n    });\n    setState({ ...state,\n      seeking: false\n    }); // console.log(sliderRef.current.value)\n\n    playerRef.current.seekTo(newValue / 100, \"fraction\");\n  };\n\n  const handleDuration = duration => {\n    setState({ ...state,\n      duration\n    });\n  };\n\n  const handleVolumeSeekDown = (e, newValue) => {\n    setState({ ...state,\n      seeking: false,\n      volume: parseFloat(newValue / 100)\n    });\n  };\n\n  const handleVolumeChange = (e, newValue) => {\n    // console.log(newValue);\n    setState({ ...state,\n      volume: parseFloat(newValue / 100),\n      muted: newValue === 0 ? true : false\n    });\n  };\n\n  const toggleFullScreen = () => {\n    screenful.toggle(playerContainerRef.current);\n  };\n\n  const handleMouseMove = () => {\n    console.log(\"mousemove\");\n    controlsRef.current.style.visibility = \"visible\";\n    count = 0;\n  };\n\n  const hanldeMouseLeave = () => {\n    controlsRef.current.style.visibility = \"hidden\";\n    count = 0;\n  };\n\n  const handleDisplayFormat = () => {\n    setTimeDisplayFormat(timeDisplayFormat == \"normal\" ? \"remaining\" : \"normal\");\n  };\n\n  const handlePlaybackRate = rate => {\n    setState({ ...state,\n      playbackRate: rate\n    });\n  };\n\n  const hanldeMute = () => {\n    setState({ ...state,\n      muted: !state.muted\n    });\n  };\n\n  const addBookmark = () => {\n    const canvas = canvasRef.current;\n    canvas.width = 160;\n    canvas.height = 90;\n    const ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(playerRef.current.getInternalPlayer(), 0, 0, canvas.width, canvas.height);\n    const dataUri = canvas.toDataURL();\n    canvas.width = 0;\n    canvas.height = 0;\n    const bookmarksCopy = [...bookmarks];\n    bookmarksCopy.push({\n      time: playerRef.current.getCurrentTime(),\n      display: format(playerRef.current.getCurrentTime()),\n      image: dataUri\n    });\n    setBookmarks(bookmarksCopy);\n  };\n\n  const currentTime = playerRef && playerRef.current ? playerRef.current.getCurrentTime() : \"00:00\";\n  const duration = playerRef && playerRef.current ? playerRef.current.getDuration() : \"00:00\";\n  const elapsedTime = timeDisplayFormat == \"normal\" ? format(currentTime) : `-${format(duration - currentTime)}`;\n  const totalDuration = format(duration);\n\n  const handleChangeee = event => {\n    setUrl(event.target.value);\n  };\n\n  const handleUrlBtn = event => {\n    event.preventDefault();\n    console.log(url);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(AppBar, {\n    position: \"fixed\",\n    color: \"black\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 11\n    }\n  }, \"Video Player\"))), /*#__PURE__*/React.createElement(Toolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    maxWidth: \"md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      margin: \"0 auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 11\n    }\n  }, \"Enter the Valid Url of the Video\"), /*#__PURE__*/React.createElement(\"input\", {\n    style: {\n      width: \"500px\",\n      height: \"30px\"\n    },\n    type: \"text\",\n    id: \"url\",\n    onChange: handleChangeee,\n    value: url,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    onMouseMove: handleMouseMove,\n    onMouseLeave: hanldeMouseLeave,\n    ref: playerContainerRef,\n    className: classes.playerWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ReactPlayer, {\n    ref: playerRef,\n    width: \"100%\",\n    height: \"100%\",\n    url: url,\n    pip: pip,\n    playing: playing,\n    controls: false,\n    light: light,\n    loop: loop,\n    playbackRate: playbackRate,\n    volume: volume,\n    muted: muted,\n    onProgress: handleProgress,\n    config: {\n      file: {\n        attributes: {\n          crossorigin: \"anonymous\"\n        }\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Controls, {\n    ref: controlsRef,\n    onSeek: handleSeekChange,\n    onSeekMouseDown: handleSeekMouseDown,\n    onSeekMouseUp: handleSeekMouseUp,\n    onDuration: handleDuration,\n    onRewind: handleRewind,\n    onPlayPause: handlePlayPause,\n    onFastForward: handleFastForward,\n    playing: playing,\n    played: played,\n    elapsedTime: elapsedTime,\n    totalDuration: totalDuration,\n    onMute: hanldeMute,\n    muted: muted,\n    onVolumeChange: handleVolumeChange,\n    onVolumeSeekDown: handleVolumeSeekDown,\n    onChangeDispayFormat: handleDisplayFormat,\n    playbackRate: playbackRate,\n    onPlaybackRateChange: handlePlaybackRate,\n    onToggleFullScreen: toggleFullScreen,\n    volume: volume,\n    onBookmark: addBookmark,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    style: {\n      marginTop: 20\n    },\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 9\n    }\n  }, bookmarks.map((bookmark, index) => /*#__PURE__*/React.createElement(Grid, {\n    key: index,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    onClick: () => {\n      playerRef.current.seekTo(bookmark.time);\n      controlsRef.current.style.visibility = \"visible\";\n      setTimeout(() => {\n        controlsRef.current.style.visibility = \"hidden\";\n      }, 1000);\n    },\n    elevation: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    crossOrigin: \"anonymous\",\n    src: bookmark.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 17\n    }\n  }, \"bookmark at \", bookmark.display))))), /*#__PURE__*/React.createElement(\"canvas\", {\n    ref: canvasRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/hp/Desktop/Neha/video-player-react-youtube/src/App.js"],"names":["React","useState","useRef","useEffect","findDOMNode","AppBar","Toolbar","Typography","Container","ReactPlayer","makeStyles","withStyles","Slider","Tooltip","Grid","Paper","VolumeUp","VolumeDown","VolumeMute","FullScreen","Popover","screenful","Controls","useStyles","theme","playerWrapper","width","position","controlsWrapper","visibility","top","left","right","bottom","background","display","flexDirection","justifyContent","topControls","padding","spacing","middleControls","alignItems","bottomWrapper","bottomControls","button","margin","controlIcons","color","fontSize","transform","bottomIcons","volumeSlider","PrettoSlider","root","height","thumb","backgroundColor","border","marginTop","marginLeft","boxShadow","active","valueLabel","track","borderRadius","rail","ValueLabelComponent","props","children","open","value","format","seconds","isNaN","date","Date","hh","getUTCHours","mm","getUTCMinutes","ss","getUTCSeconds","toString","padStart","count","App","classes","showControls","setShowControls","anchorEl","setAnchorEl","timeDisplayFormat","setTimeDisplayFormat","bookmarks","setBookmarks","state","setState","pip","playing","controls","light","muted","played","duration","playbackRate","volume","loop","seeking","url","setUrl","playerRef","playerContainerRef","controlsRef","canvasRef","handlePlayPause","handleRewind","current","seekTo","getCurrentTime","handleFastForward","handleProgress","changeState","style","handleSeekChange","e","newValue","console","log","parseFloat","handleSeekMouseDown","handleSeekMouseUp","target","handleDuration","handleVolumeSeekDown","handleVolumeChange","toggleFullScreen","toggle","handleMouseMove","hanldeMouseLeave","handleDisplayFormat","handlePlaybackRate","rate","hanldeMute","addBookmark","canvas","ctx","getContext","drawImage","getInternalPlayer","dataUri","toDataURL","bookmarksCopy","push","time","image","currentTime","getDuration","elapsedTime","totalDuration","handleChangeee","event","handleUrlBtn","preventDefault","file","attributes","crossorigin","map","bookmark","index","setTimeout"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport { findDOMNode } from \"react-dom\";\r\n\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport ReactPlayer from \"react-player\";\r\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport VolumeUp from \"@material-ui/icons/VolumeUp\";\r\nimport VolumeDown from \"@material-ui/icons/VolumeDown\";\r\nimport VolumeMute from \"@material-ui/icons/VolumeOff\";\r\nimport FullScreen from \"@material-ui/icons/Fullscreen\";\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport screenful from \"screenfull\";\r\nimport Controls from \"./components/Controls\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  playerWrapper: {\r\n    width: \"100%\",\r\n\r\n    position: \"relative\",\r\n    // \"&:hover\": {\r\n    //   \"& $controlsWrapper\": {\r\n    //     visibility: \"visible\",\r\n    //   },\r\n    // },\r\n  },\r\n\r\n  controlsWrapper: {\r\n    visibility: \"hidden\",\r\n    position: \"absolute\",\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    background: \"rgba(0,0,0,0.4)\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"space-between\",\r\n  },\r\n  topControls: {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\",\r\n    padding: theme.spacing(2),\r\n  },\r\n  middleControls: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  bottomWrapper: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n\r\n    // background: \"rgba(0,0,0,0.6)\",\r\n    // height: 60,\r\n    padding: theme.spacing(2),\r\n  },\r\n\r\n  bottomControls: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n    // height:40,\r\n  },\r\n\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  controlIcons: {\r\n    color: \"#777\",\r\n\r\n    fontSize: 50,\r\n    transform: \"scale(0.9)\",\r\n    \"&:hover\": {\r\n      color: \"#fff\",\r\n      transform: \"scale(1)\",\r\n    },\r\n  },\r\n\r\n  bottomIcons: {\r\n    color: \"#999\",\r\n    \"&:hover\": {\r\n      color: \"#fff\",\r\n    },\r\n  },\r\n\r\n  volumeSlider: {\r\n    width: 100,\r\n  },\r\n}));\r\n\r\nconst PrettoSlider = withStyles({\r\n  root: {\r\n    height: 8,\r\n  },\r\n  thumb: {\r\n    height: 24,\r\n    width: 24,\r\n    backgroundColor: \"#fff\",\r\n    border: \"2px solid currentColor\",\r\n    marginTop: -8,\r\n    marginLeft: -12,\r\n    \"&:focus, &:hover, &$active\": {\r\n      boxShadow: \"inherit\",\r\n    },\r\n  },\r\n  active: {},\r\n  valueLabel: {\r\n    left: \"calc(-50% + 4px)\",\r\n  },\r\n  track: {\r\n    height: 8,\r\n    borderRadius: 4,\r\n  },\r\n  rail: {\r\n    height: 8,\r\n    borderRadius: 4,\r\n  },\r\n})(Slider);\r\n\r\nfunction ValueLabelComponent(props) {\r\n  const { children, open, value } = props;\r\n\r\n  return (\r\n    <Tooltip open={open} enterTouchDelay={0} placement=\"top\" title={value}>\r\n      {children}\r\n    </Tooltip>\r\n  );\r\n}\r\n\r\nconst format = (seconds) => {\r\n  if (isNaN(seconds)) {\r\n    return `00:00`;\r\n  }\r\n  const date = new Date(seconds * 1000);\r\n  const hh = date.getUTCHours();\r\n  const mm = date.getUTCMinutes();\r\n  const ss = date.getUTCSeconds().toString().padStart(2, \"0\");\r\n  if (hh) {\r\n    return `${hh}:${mm.toString().padStart(2, \"0\")}:${ss}`;\r\n  }\r\n  return `${mm}:${ss}`;\r\n};\r\n\r\nlet count = 0;\r\n\r\nfunction App() {\r\n  const classes = useStyles();\r\n  const [showControls, setShowControls] = useState(false);\r\n  // const [count, setCount] = useState(0);\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [timeDisplayFormat, setTimeDisplayFormat] = React.useState(\"normal\");\r\n  const [bookmarks, setBookmarks] = useState([]);\r\n  const [state, setState] = useState({\r\n    pip: false,\r\n    playing: true,\r\n    controls: false,\r\n    light: false,\r\n\r\n    muted: true,\r\n    played: 0,\r\n    duration: 0,\r\n    playbackRate: 1.0,\r\n    volume: 1,\r\n    loop: false,\r\n    seeking: false,\r\n  });\r\n  \r\n  const [url, setUrl] =useState('')\r\n  const playerRef = useRef(null);\r\n  const playerContainerRef = useRef(null);\r\n  const controlsRef = useRef(null);\r\n  const canvasRef = useRef(null);\r\n  const {\r\n    playing,\r\n    controls,\r\n    light,\r\n\r\n    muted,\r\n    loop,\r\n    playbackRate,\r\n    pip,\r\n    played,\r\n    seeking,\r\n    volume,\r\n  } = state;\r\n\r\n  const handlePlayPause = () => {\r\n    setState({ ...state, playing: !state.playing });\r\n  };\r\n\r\n  const handleRewind = () => {\r\n    playerRef.current.seekTo(playerRef.current.getCurrentTime() - 10);\r\n  };\r\n\r\n  const handleFastForward = () => {\r\n    playerRef.current.seekTo(playerRef.current.getCurrentTime() + 10);\r\n  };\r\n\r\n  const handleProgress = (changeState) => {\r\n    if (count > 3) {\r\n      controlsRef.current.style.visibility = \"hidden\";\r\n      count = 0;\r\n    }\r\n    if (controlsRef.current.style.visibility == \"visible\") {\r\n      count += 1;\r\n    }\r\n    if (!state.seeking) {\r\n      setState({ ...state, ...changeState });\r\n    }\r\n  };\r\n\r\n  const handleSeekChange = (e, newValue) => {\r\n    console.log({ newValue });\r\n    setState({ ...state, played: parseFloat(newValue / 100) });\r\n  };\r\n\r\n  const handleSeekMouseDown = (e) => {\r\n    setState({ ...state, seeking: true });\r\n  };\r\n\r\n  const handleSeekMouseUp = (e, newValue) => {\r\n    console.log({ value: e.target });\r\n    setState({ ...state, seeking: false });\r\n    // console.log(sliderRef.current.value)\r\n    playerRef.current.seekTo(newValue / 100, \"fraction\");\r\n  };\r\n\r\n  const handleDuration = (duration) => {\r\n    setState({ ...state, duration });\r\n  };\r\n\r\n  const handleVolumeSeekDown = (e, newValue) => {\r\n    setState({ ...state, seeking: false, volume: parseFloat(newValue / 100) });\r\n  };\r\n  const handleVolumeChange = (e, newValue) => {\r\n    // console.log(newValue);\r\n    setState({\r\n      ...state,\r\n      volume: parseFloat(newValue / 100),\r\n      muted: newValue === 0 ? true : false,\r\n    });\r\n  };\r\n\r\n  const toggleFullScreen = () => {\r\n    screenful.toggle(playerContainerRef.current);\r\n  };\r\n\r\n  const handleMouseMove = () => {\r\n    console.log(\"mousemove\");\r\n    controlsRef.current.style.visibility = \"visible\";\r\n    count = 0;\r\n  };\r\n\r\n  const hanldeMouseLeave = () => {\r\n    controlsRef.current.style.visibility = \"hidden\";\r\n    count = 0;\r\n  };\r\n\r\n  const handleDisplayFormat = () => {\r\n    setTimeDisplayFormat(\r\n      timeDisplayFormat == \"normal\" ? \"remaining\" : \"normal\"\r\n    );\r\n  };\r\n\r\n  const handlePlaybackRate = (rate) => {\r\n    setState({ ...state, playbackRate: rate });\r\n  };\r\n\r\n  const hanldeMute = () => {\r\n    setState({ ...state, muted: !state.muted });\r\n  };\r\n\r\n  const addBookmark = () => {\r\n    const canvas = canvasRef.current;\r\n    canvas.width = 160;\r\n    canvas.height = 90;\r\n    const ctx = canvas.getContext(\"2d\");\r\n\r\n    ctx.drawImage(\r\n      playerRef.current.getInternalPlayer(),\r\n      0,\r\n      0,\r\n      canvas.width,\r\n      canvas.height\r\n    );\r\n    const dataUri = canvas.toDataURL();\r\n    canvas.width = 0;\r\n    canvas.height = 0;\r\n    const bookmarksCopy = [...bookmarks];\r\n    bookmarksCopy.push({\r\n      time: playerRef.current.getCurrentTime(),\r\n      display: format(playerRef.current.getCurrentTime()),\r\n      image: dataUri,\r\n    });\r\n    setBookmarks(bookmarksCopy);\r\n  };\r\n\r\n  const currentTime =\r\n    playerRef && playerRef.current\r\n      ? playerRef.current.getCurrentTime()\r\n      : \"00:00\";\r\n\r\n  const duration =\r\n    playerRef && playerRef.current ? playerRef.current.getDuration() : \"00:00\";\r\n  const elapsedTime =\r\n    timeDisplayFormat == \"normal\"\r\n      ? format(currentTime)\r\n      : `-${format(duration - currentTime)}`;\r\n\r\n  const totalDuration = format(duration);\r\n\r\n  const handleChangeee = event =>{\r\n    setUrl(event.target.value)\r\n  }\r\n  const handleUrlBtn = (event) => {\r\n    event.preventDefault();\r\n    console.log(url)\r\n\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <AppBar position=\"fixed\" color=\"black\">\r\n        <Toolbar>\r\n          <Typography>Video Player</Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Toolbar />\r\n      <Container maxWidth=\"md\">\r\n\r\n        <div style={{margin:\"0 auto\"}}>\r\n          <h2>Enter the Valid Url of the Video</h2>\r\n          <input style={{width:\"500px\", height:\"30px\"}} type=\"text\" id=\"url\" onChange={handleChangeee} value={url}>\r\n          </input>\r\n          {/* <button onClick={handleUrlBtn}>Click Me</button> */}\r\n        </div>\r\n        \r\n        <div\r\n          onMouseMove={handleMouseMove}\r\n          onMouseLeave={hanldeMouseLeave}\r\n          ref={playerContainerRef}\r\n          className={classes.playerWrapper}\r\n        >\r\n          <ReactPlayer\r\n            ref={playerRef}\r\n            width=\"100%\"\r\n            height=\"100%\"\r\n            url={url}\r\n            pip={pip}\r\n            playing={playing}\r\n            controls={false}\r\n            light={light}\r\n            loop={loop}\r\n            playbackRate={playbackRate}\r\n            volume={volume}\r\n            muted={muted}\r\n            onProgress={handleProgress}\r\n            config={{\r\n              file: {\r\n                attributes: {\r\n                  crossorigin: \"anonymous\",\r\n                },\r\n              },\r\n            }}\r\n          />\r\n\r\n          <Controls\r\n            ref={controlsRef}\r\n            onSeek={handleSeekChange}\r\n            onSeekMouseDown={handleSeekMouseDown}\r\n            onSeekMouseUp={handleSeekMouseUp}\r\n            onDuration={handleDuration}\r\n            onRewind={handleRewind}\r\n            onPlayPause={handlePlayPause}\r\n            onFastForward={handleFastForward}\r\n            playing={playing}\r\n            played={played}\r\n            elapsedTime={elapsedTime}\r\n            totalDuration={totalDuration}\r\n            onMute={hanldeMute}\r\n            muted={muted}\r\n            onVolumeChange={handleVolumeChange}\r\n            onVolumeSeekDown={handleVolumeSeekDown}\r\n            onChangeDispayFormat={handleDisplayFormat}\r\n            playbackRate={playbackRate}\r\n            onPlaybackRateChange={handlePlaybackRate}\r\n            onToggleFullScreen={toggleFullScreen}\r\n            volume={volume}\r\n            onBookmark={addBookmark}\r\n          />\r\n        </div>\r\n\r\n        <Grid container style={{ marginTop: 20 }} spacing={3}>\r\n          {bookmarks.map((bookmark, index) => (\r\n            <Grid key={index} item>\r\n              <Paper\r\n                onClick={() => {\r\n                  playerRef.current.seekTo(bookmark.time);\r\n                  controlsRef.current.style.visibility = \"visible\";\r\n\r\n                  setTimeout(() => {\r\n                    controlsRef.current.style.visibility = \"hidden\";\r\n                  }, 1000);\r\n                }}\r\n                elevation={3}\r\n              >\r\n                <img crossOrigin=\"anonymous\" src={bookmark.image} />\r\n                <Typography variant=\"body2\" align=\"center\">\r\n                  bookmark at {bookmark.display}\r\n                </Typography>\r\n              </Paper>\r\n            </Grid>\r\n          ))}\r\n        </Grid>\r\n        <canvas ref={canvasRef} />\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}